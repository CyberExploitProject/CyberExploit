# We import the Python image in version 3.6
FROM python:3.6-slim


# We install the libraries we need to run the attack script.
RUN pip install --upgrade pip
RUN pip install scapy==2.4.3
COPY ./mqtt.py /usr/local/lib/python3.6/site-packages/scapy/contrib/



# We copy our attack script + various important files in a dedicated folder
RUN mkdir /fuzzing/
COPY ./Scripts/attack.py /fuzzing/
COPY ./Scripts/ip-mac-addresses.txt /fuzzing/
COPY ./Scripts/payloads.txt /fuzzing/
COPY ./Scripts/script.conf /fuzzing/



# We're in the fuzzing directory
WORKDIR /fuzzing


# We execute our attack script once the container launches
CMD ["python3", "/fuzzing/attack.py"]
