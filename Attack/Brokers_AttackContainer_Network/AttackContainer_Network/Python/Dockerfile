# On importe l'image Python en version 3.6
FROM python:3.6-slim


# On installe les librairies dont on a besoin pour lancer le script d'attaque
RUN pip install --upgrade pip
RUN pip install scapy==2.4.3
COPY ./mqtt.py /usr/local/lib/python3.6/site-packages/scapy/contrib/



# On copie notre script d'attaque + divers fichiers importants dans un dossier dedie
RUN mkdir /fuzzing/
COPY ./Scripts/attack.py /fuzzing/
COPY ./Scripts/ip-mac-addresses.txt /fuzzing/
COPY ./Scripts/payloads.txt /fuzzing/
COPY ./Scripts/script.conf /fuzzing/



# On se place dans le repertoire fuzzing
WORKDIR /fuzzing


# On demande a executer notre script d'attaque une fois le container lance
CMD ["python3", "/fuzzing/attack.py"]
